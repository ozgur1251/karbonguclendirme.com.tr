---
import { NAVIGATION } from '../config/navigation';

const { main: menuItems } = NAVIGATION.menu;
---

<nav class="hidden md:flex items-center space-x-2">
  {menuItems.map(item => (
    <div class="relative group">
      {item.submenu ? (
        <>
          <button class="inline-flex items-center px-4 py-2 text-gray-800 font-medium hover:text-green-600 rounded-md group">
            <span>{item.name}</span>
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              class="h-4 w-4 ml-1 transform transition-transform duration-200 group-hover:rotate-180" 
              fill="none" 
              viewBox="0 0 24 24" 
              stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="absolute left-0 mt-1 w-56 bg-white rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 border border-gray-100">
            <div class="py-2">
              {item.submenu.map(subitem => (
                <a 
                  href={subitem.path} 
                  class="block px-4 py-2.5 text-gray-700 hover:text-green-600 hover:bg-gray-50 font-medium"
                >
                  {subitem.name}
                </a>
              ))}
            </div>
          </div>
        </>
      ) : (
        <a 
          href={item.path} 
          class="inline-block px-4 py-2 text-gray-800 font-medium hover:text-green-600 rounded-md"
        >
          {item.name}
        </a>
      )}
    </div>
  ))}
</nav>

<button 
  class="md:hidden text-gray-700 hover:text-gray-900 p-2"
  onclick="window.openMobileMenu()"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
  </svg>
</button> 